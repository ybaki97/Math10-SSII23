

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Predict Diabetes Based on Various Features &#8212; Math 10, Summer Session II 2023</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'students/yufeng/YuFeng';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Mushroom Edibility Classification" href="../harrisonhong/HarrisonHong.html" />
    <link rel="prev" title="Detecting events in Timestamp data" href="../titusdejong/TitusdeJong.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/confuse.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/confuse.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    UC Irvine, Math 10, Summer 2023
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 1</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../w1vid.html">Week 1 Lecture Videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec1.html">Lecture 1: August 7th, 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../worksheets/wkst1.html">Discussion 1: August 7th, 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec2.html">Lecture 2: August 9th, 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../worksheets/wkst2.html">Discussion 2: August 9th, 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec3.html">Lecture 3: August 11th, 2023</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 2</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../w2vid.html">Week 2 Lecture Videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec4.html">Lecture 4: August 14th, 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec5.html">Lecture 5: August 16th, 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec6.html">Lecture 6: August 18th, 2023</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 3</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../w3vid.html">Week 3 Lecture Videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec7.html">Lecture 7: August 21st, 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec8.html">Lecture 8: August 23nd, 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec9.html">Lecture 9: August 25th, 2023</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 4</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec10.html">Lecture 10: August 28th, 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec11.html">Lecture 11: August 30th, 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec12.html">Lecture 12: September 1st, 2023</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 5</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../w5vid.html">Week 5 Lecture Videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec13.html">Lecture 13: September 6th, 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec14.html">Lecture 14: September 8th, 2023</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Final Project and Finals Week</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../lectures/lec15.html">Lecture 15: September 11th, 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../final/final.html">🎉 Final Project Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../final/extra.html">Possible Extra Topics</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Projects</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../proj.html">Student Projects</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../brianbui/BrianBui.html">League of Legends 13.13</a></li>
<li class="toctree-l2"><a class="reference internal" href="../titusdejong/TitusdeJong.html">Detecting events in Timestamp data</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Predict Diabetes Based on Various Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../harrisonhong/HarrisonHong.html">Mushroom Edibility Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shayankermani/ShayanKermani.html">Online Chess Games Examination</a></li>
<li class="toctree-l2"><a class="reference internal" href="../laurenkim/LaurenKim.html">Predicting Formula 1 Constructor’s Champion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jameslai/JamesLai.html">COVID-19 Data Discovery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../BaoyeLiu.html">Heart Disease Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../JiahangLiu.html">Global Sales of Video Games</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SanathNair.html">Spotify Artist Prediction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../JamesNguyen.html">Accounting Automated</a></li>
<li class="toctree-l2"><a class="reference internal" href="../NataniaNguyen.html">Online Shopping Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../HamidSaebiMonfared.html">📊 A Data-Driven Dive into Life Expectancy Worldwide: An Actuarial Exploration Analyzing Determinants of Longevity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SalaarSaraj.html">Drug Consumption Patterns</a></li>

<li class="toctree-l2"><a class="reference internal" href="../XinyiSong.html">The Change in the Suicide Rate around the World</a></li>
<li class="toctree-l2"><a class="reference internal" href="../RowanSpeckman.html">Geographical range of amanita mushrooms in the United States</a></li>
<li class="toctree-l2"><a class="reference internal" href="../NoahStemen.html">Analyzing my Spotify Streaming History</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DavidWang.html">Analyzing Best Studying Strategies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AustinWu.html">Analyzing Factors Affecting Final Grade and Predicting Student Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../KailinWu.html">The relationship between salary, gender, and national GDP.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../RuoyanXiong.html">Prediction of Sleep Disorder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DanXu.html">🔪Crime Analysis in the City of Los Angeles🌴</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SihongYao.html">Analyzing Income Level in the Adult Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../LuoningZhang.html">Analysis on Airline Dataset: Passenger’s Characteristics And Prediction of Flight Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="../RudanZheng.html">Involution in Chinese Society</a></li>
<li class="toctree-l2"><a class="reference internal" href="../MoZhou.html">Most Streamed Spotify Songs of 2023</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ybaki97/Math10-SSI23" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ybaki97/Math10-SSI23/issues/new?title=Issue%20on%20page%20%2Fstudents/yufeng/YuFeng.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/students/yufeng/YuFeng.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Predict Diabetes Based on Various Features</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparation-and-explore-the-data">Preparation and Explore the Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualization">Visualization</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-distribution-of-diabetes">The Distribution of Diabetes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-histograms-to-visualize-the-distribution-of-continuous-variables-such-as-age-bmi-and-etc">Create histograms to visualize the distribution of continuous variables such as age, bmi, and etc.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-bar-plots-to-visualize-the-distribution-of-categorical-variables-such-as-gender-smoking-history-and-etc">Create bar plots to visualize the distribution of categorical variables such as gender, smoking history, and etc.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#find-correlation-between-the-various-variables-and-diabetes">Find correlation between the various variables and diabetes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#machine-learning-models">Machine Learning Models</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-processing">Data Processing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logistic-regression-model">Logistic Regression Model</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extra-topics">Extra Topics</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#decision-tree">Decision Tree</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random-forest">Random Forest</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="predict-diabetes-based-on-various-features">
<h1>Predict Diabetes Based on Various Features<a class="headerlink" href="#predict-diabetes-based-on-various-features" title="Permalink to this headline">#</a></h1>
<p>Author: Yu Feng</p>
<p>Course Project, UC Irvine, Math 10, Summer 2023</p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h2>
<p>Diabetes is one of the most prevalent chronic diseases today, which affects the way your body converts food into energy. In this project, I will analyze the correlation between various medical history and demographic factors and diabetes prevalence and identify potential risk factors. This project will utilize tools such as pandas, numpy, seaborn, machine learning, and etc. to predict diabetes.</p>
</section>
<section id="preparation-and-explore-the-data">
<h2>Preparation and Explore the Data<a class="headerlink" href="#preparation-and-explore-the-data" title="Permalink to this headline">#</a></h2>
<p>First, I will import some packages that I will use in this project.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import pandas as pd
import numpy as np
import seaborn as sns
import altair as alt
import matplotlib.pyplot as plt


from sklearn.model_selection import train_test_split
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import mean_absolute_error, accuracy_score, classification_report, confusion_matrix
from sklearn.tree import DecisionTreeClassifier
from sklearn.tree import plot_tree
from sklearn.ensemble import RandomForestClassifier
</pre></div>
</div>
</div>
</div>
<p>Then, we load the dataset by using pandas and make an DataFrame as <code class="docutils literal notranslate"><span class="pre">df</span></code>, and see some basic informations of the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>df = pd.read_csv(&quot;diabetes_prediction_dataset.csv&quot;)
df.head()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gender</th>
      <th>age</th>
      <th>hypertension</th>
      <th>heart_disease</th>
      <th>smoking_history</th>
      <th>bmi</th>
      <th>HbA1c_level</th>
      <th>blood_glucose_level</th>
      <th>diabetes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Female</td>
      <td>80.0</td>
      <td>0</td>
      <td>1</td>
      <td>never</td>
      <td>25.19</td>
      <td>6.6</td>
      <td>140</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Female</td>
      <td>54.0</td>
      <td>0</td>
      <td>0</td>
      <td>No Info</td>
      <td>27.32</td>
      <td>6.6</td>
      <td>80</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Male</td>
      <td>28.0</td>
      <td>0</td>
      <td>0</td>
      <td>never</td>
      <td>27.32</td>
      <td>5.7</td>
      <td>158</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Female</td>
      <td>36.0</td>
      <td>0</td>
      <td>0</td>
      <td>current</td>
      <td>23.45</td>
      <td>5.0</td>
      <td>155</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Male</td>
      <td>76.0</td>
      <td>1</td>
      <td>1</td>
      <td>current</td>
      <td>20.14</td>
      <td>4.8</td>
      <td>155</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The dataset has 9 columns in total, and the last column is “diabetes”. It is the target variable for prediction, a value of 1 indicates the presence of diabetes, and a value of 0 indicates the absence of diabetes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>df.shape
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(100000, 9)
</pre></div>
</div>
</div>
</div>
<p>Based on the shape of the DataFrame, there are 100000 rows and 9 columns in this dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>df.isna().any(axis=0)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>gender                 False
age                    False
hypertension           False
heart_disease          False
smoking_history        False
bmi                    False
HbA1c_level            False
blood_glucose_level    False
diabetes               False
dtype: bool
</pre></div>
</div>
</div>
</div>
<p>By checking for missing values in the DataFrame, we can see there is no NaN in each column, so we do not need to drop anything.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>df.info()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 100000 entries, 0 to 99999
Data columns (total 9 columns):
 #   Column               Non-Null Count   Dtype  
---  ------               --------------   -----  
 0   gender               100000 non-null  object 
 1   age                  100000 non-null  float64
 2   hypertension         100000 non-null  int64  
 3   heart_disease        100000 non-null  int64  
 4   smoking_history      100000 non-null  object 
 5   bmi                  100000 non-null  float64
 6   HbA1c_level          100000 non-null  float64
 7   blood_glucose_level  100000 non-null  int64  
 8   diabetes             100000 non-null  int64  
dtypes: float64(3), int64(4), object(2)
memory usage: 6.9+ MB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>df.dtypes
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>gender                  object
age                    float64
hypertension             int64
heart_disease            int64
smoking_history         object
bmi                    float64
HbA1c_level            float64
blood_glucose_level      int64
diabetes                 int64
dtype: object
</pre></div>
</div>
</div>
</div>
<p>We can see the name of each column and what data informations and DataType they consist of.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>df.describe()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>hypertension</th>
      <th>heart_disease</th>
      <th>bmi</th>
      <th>HbA1c_level</th>
      <th>blood_glucose_level</th>
      <th>diabetes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>100000.000000</td>
      <td>100000.00000</td>
      <td>100000.000000</td>
      <td>100000.000000</td>
      <td>100000.000000</td>
      <td>100000.000000</td>
      <td>100000.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>41.885856</td>
      <td>0.07485</td>
      <td>0.039420</td>
      <td>27.320767</td>
      <td>5.527507</td>
      <td>138.058060</td>
      <td>0.085000</td>
    </tr>
    <tr>
      <th>std</th>
      <td>22.516840</td>
      <td>0.26315</td>
      <td>0.194593</td>
      <td>6.636783</td>
      <td>1.070672</td>
      <td>40.708136</td>
      <td>0.278883</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.080000</td>
      <td>0.00000</td>
      <td>0.000000</td>
      <td>10.010000</td>
      <td>3.500000</td>
      <td>80.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>24.000000</td>
      <td>0.00000</td>
      <td>0.000000</td>
      <td>23.630000</td>
      <td>4.800000</td>
      <td>100.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>43.000000</td>
      <td>0.00000</td>
      <td>0.000000</td>
      <td>27.320000</td>
      <td>5.800000</td>
      <td>140.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>60.000000</td>
      <td>0.00000</td>
      <td>0.000000</td>
      <td>29.580000</td>
      <td>6.200000</td>
      <td>159.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>80.000000</td>
      <td>1.00000</td>
      <td>1.000000</td>
      <td>95.690000</td>
      <td>9.000000</td>
      <td>300.000000</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can see the descriptive statistics for each column in the dataset, which includes calculating measures such as the mean, median, standard deviation, and range for the quantitative variables, and frequency counts for the different variables.</p>
</section>
<section id="visualization">
<h2>Visualization<a class="headerlink" href="#visualization" title="Permalink to this headline">#</a></h2>
<section id="the-distribution-of-diabetes">
<h3>The Distribution of Diabetes<a class="headerlink" href="#the-distribution-of-diabetes" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>We know <strong>Altair</strong> has difficulty processing datasets larger than a few thousand rows</p></li>
<li><p>Let’s create a bar chart to view diabetes value counts by using Altair.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>diabetes_value_counts = df[&quot;diabetes&quot;].value_counts()
diabetes_value_counts
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    91500
1     8500
Name: diabetes, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>diabetes_value = df[&quot;diabetes&quot;].value_counts().reset_index()

diabetes_value.columns = [&quot;Diabetes&quot;, &quot;Count&quot;]

alt.Chart(diabetes_value).mark_bar().encode(
    x=&quot;Diabetes:O&quot;,
    y=&quot;Count:Q&quot;,
    tooltip=[&quot;Diabetes&quot;, &quot;Count&quot;]
).properties(
    title=&quot;Diabetes Value Counts&quot;
)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<div id="altair-viz-a7bdcdb8a8ed4ec8a2c2d3a0002a7b24"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-a7bdcdb8a8ed4ec8a2c2d3a0002a7b24") {
      outputDiv = document.getElementById("altair-viz-a7bdcdb8a8ed4ec8a2c2d3a0002a7b24");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-dbad7c5b9d56a9c93d967cb5c19ecc4b"}, "mark": "bar", "encoding": {"tooltip": [{"field": "Diabetes", "type": "quantitative"}, {"field": "Count", "type": "quantitative"}], "x": {"field": "Diabetes", "type": "ordinal"}, "y": {"field": "Count", "type": "quantitative"}}, "title": "Diabetes Value Counts", "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-dbad7c5b9d56a9c93d967cb5c19ecc4b": [{"Diabetes": 0, "Count": 91500}, {"Diabetes": 1, "Count": 8500}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<ul class="simple">
<li><p>Since our dataset is too large, we will use <strong>Seaborn</strong> and <strong>Matplotlib</strong> for the following visualization.</p></li>
<li><p>Let’s create pie chart to visualize the distribution of diabetes by using Matplotlib.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>diabetes_value_counts.plot(kind = &quot;pie&quot;,autopct = &quot;%2.2f%%&quot;)
plt.title(&quot;Diabetes Percentage&quot;)
plt.xlabel(&quot;Diabetes&quot;)
plt.ylabel(&quot;Count&quot;)
plt.show()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/39cf5b79274479b7d0b03d24131e3557acaaf619f1814de98841a0951a7523c6.png" src="../../_images/39cf5b79274479b7d0b03d24131e3557acaaf619f1814de98841a0951a7523c6.png" />
</div>
</div>
<p>From the pie chart above, 8500/100000 = 8.5% of people have diabetes.</p>
</section>
<section id="create-histograms-to-visualize-the-distribution-of-continuous-variables-such-as-age-bmi-and-etc">
<h3>Create histograms to visualize the distribution of continuous variables such as age, bmi, and etc.<a class="headerlink" href="#create-histograms-to-visualize-the-distribution-of-continuous-variables-such-as-age-bmi-and-etc" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>continuous_vars = [&quot;age&quot;, &quot;bmi&quot;, &quot;HbA1c_level&quot;, &quot;blood_glucose_level&quot;]

plt.figure(figsize=(20, 12))

count = 1
for var in continuous_vars: 
    plt.subplot(2, 2, count)
    sns.histplot(df[var], bins=30, kde=True)
    plt.title(f&quot;Histogram of {var}&quot;)
    plt.xlabel(var)
    plt.ylabel(&quot;Frequency&quot;)
    count += 1

plt.tight_layout() # To ensure that the subplots fit nicely within the figure without overlapping with each other
plt.show()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/8b7ac294ac26a19f7e0d56ee12be9a17d88437f77a147b8e38e3c5f8c099444e.png" src="../../_images/8b7ac294ac26a19f7e0d56ee12be9a17d88437f77a147b8e38e3c5f8c099444e.png" />
</div>
</div>
<ul class="simple">
<li><p>Based on the histograms for continuous variables above, we can see that there are more people in the elderly group in <strong>age</strong> distribution.</p></li>
<li><p>The <strong>BMI</strong> distribution is centered around between 25-30.</p></li>
<li><p>For <strong>HbA1c level</strong> distribution, most people have levels below 6.5.</p></li>
<li><p>For Distribution of <strong>blood glucose levels</strong>, most people have levels below 200.</p></li>
</ul>
</section>
<section id="create-bar-plots-to-visualize-the-distribution-of-categorical-variables-such-as-gender-smoking-history-and-etc">
<h3>Create bar plots to visualize the distribution of categorical variables such as gender, smoking history, and etc.<a class="headerlink" href="#create-bar-plots-to-visualize-the-distribution-of-categorical-variables-such-as-gender-smoking-history-and-etc" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>categorical_vars = [&quot;gender&quot;, &quot;smoking_history&quot;, &quot;hypertension&quot;, &quot;heart_disease&quot;]

plt.figure(figsize=(20, 12))

for i in range(len(categorical_vars)):
    plt.subplot(2, 3, i+1)
    sns.countplot(x=categorical_vars[i], data=df)
    plt.title(f&quot;Bar Plot of {categorical_vars[i]}&quot;)
    plt.xlabel(categorical_vars[i])
    plt.ylabel(&quot;Count&quot;)

plt.tight_layout()
plt.show()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/2f1ce179b6d1eacda8968932608e484207939ae996eb4e1f41de57baf0bdd99d.png" src="../../_images/2f1ce179b6d1eacda8968932608e484207939ae996eb4e1f41de57baf0bdd99d.png" />
</div>
</div>
<ul class="simple">
<li><p>According to the bar chart of <strong>gender</strong>, we notice that the dataset is concentrated in more females than males.</p></li>
<li><p>For <strong>smoking history</strong>, a significant number of individuals have not provide information about their smoking history (“No Info”). The remaining distribution shows that the majority have never smoked, followed by former smokers and current smokers.</p></li>
<li><p>For the bar chart of <strong>hypertension</strong>, we can see that most people do not have hypertension.</p></li>
<li><p>The <strong>heart disease</strong> bar chart indicates that the vast majority of people do not have heart disease.</p></li>
<li><p>The dataset for <strong>diabetes</strong> (target variable) is unbalanced, with most people not having diabetes.</p></li>
</ul>
</section>
<section id="find-correlation-between-the-various-variables-and-diabetes">
<h3>Find correlation between the various variables and diabetes<a class="headerlink" href="#find-correlation-between-the-various-variables-and-diabetes" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>plt.figure(figsize=(15, 12))

index = 1

for var in continuous_vars:
    plt.subplot(2, 2, index)
    sns.boxplot(x=&#39;diabetes&#39;, y=var, data=df)
    plt.title(f&#39;Box Plot of {var} vs Diabetes&#39;)
    
    index += 1

plt.tight_layout()
plt.show()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/e2d0c49b0db7fd3fcd7ce83c0385d0a1c07dbce7d36dc379b6cf54119e1a687d.png" src="../../_images/e2d0c49b0db7fd3fcd7ce83c0385d0a1c07dbce7d36dc379b6cf54119e1a687d.png" />
</div>
</div>
<ul class="simple">
<li><p>People with diabetes tend to be older than people without diabetes. The median age of patients with diabetes was higher.</p></li>
<li><p>The distribution of body mass index is very similar in people with and without diabetes. However, the upper quartile range was slightly higher in patients with diabetes, indicating a higher BMI in this group.</p></li>
<li><p>People with diabetes tend to have higher HbA1c levels compared to people without diabetes. Median HbA1c levels were significantly higher in patients with diabetes.</p></li>
<li><p>People with diabetes have higher blood glucose levels than people without diabetes. There was a clear separation in the distribution of blood glucose levels between the two groups, which indicates that this variable may be a strong predictor of diabetes.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>plt.figure(figsize=(15, 12))

count = 1

for col in categorical_vars:
    plt.subplot(2, 2, count)
    sns.barplot(x=&quot;diabetes&quot;, y=col, data=df)
    plt.ylabel(&quot;Proportion of Individuals with Diabetes&quot;)
    plt.title(f&quot;Bar Plot of {col} vs Diabetes&quot;)
    
    count += 1

plt.tight_layout()
plt.show()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/307590807fddc2a1cc8a006ff245f9cac3d36d01426d3a70dd09c395f5553157.png" src="../../_images/307590807fddc2a1cc8a006ff245f9cac3d36d01426d3a70dd09c395f5553157.png" />
</div>
</div>
<ul class="simple">
<li><p>The proportion of males with diabetes appears to be slightly higher compared to females.</p></li>
<li><p>People with hypertension have significantly higher rates of diabetes than people without hypertensione.</p></li>
<li><p>Similar to hypertension, people with heart disease have higher rates of diabetes than people without heart disease.</p></li>
<li><p>The proportion of people with diabetes varies with smoking history. Those with a history of smoking who were labeled “No Info” appeared to have higher rates of diabetes, followed by those who had quit smoking.</p></li>
</ul>
</section>
</section>
<section id="machine-learning-models">
<h2>Machine Learning Models<a class="headerlink" href="#machine-learning-models" title="Permalink to this headline">#</a></h2>
<section id="data-processing">
<h3>Data Processing<a class="headerlink" href="#data-processing" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Remove the &quot;Other&quot; from the gender
df = df[df[&quot;gender&quot;]!=&quot;Other&quot;]
df.gender.value_counts()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Female    58552
Male      41430
Name: gender, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Check for duplicate
df.duplicated().sum()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3854
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Remove the duplicates since there are 3854 duplicated entries
df = df.drop_duplicates()
df.duplicated().sum()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<p>Let’s use the get_dummies function to create a new DataFrame where the <code class="docutils literal notranslate"><span class="pre">&quot;gender&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;smoking_history&quot;</span></code> columns are one-hot encoded.
For example, <code class="docutils literal notranslate"><span class="pre">&quot;gender&quot;</span></code>: “Male” will be 1 and “Female” will be 0.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>df_encoded = pd.get_dummies(df, columns=[&quot;gender&quot;, &quot;smoking_history&quot;])
df_encoded.head()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>hypertension</th>
      <th>heart_disease</th>
      <th>bmi</th>
      <th>HbA1c_level</th>
      <th>blood_glucose_level</th>
      <th>diabetes</th>
      <th>gender_Female</th>
      <th>gender_Male</th>
      <th>smoking_history_No Info</th>
      <th>smoking_history_current</th>
      <th>smoking_history_ever</th>
      <th>smoking_history_former</th>
      <th>smoking_history_never</th>
      <th>smoking_history_not current</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>80.0</td>
      <td>0</td>
      <td>1</td>
      <td>25.19</td>
      <td>6.6</td>
      <td>140</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>54.0</td>
      <td>0</td>
      <td>0</td>
      <td>27.32</td>
      <td>6.6</td>
      <td>80</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>28.0</td>
      <td>0</td>
      <td>0</td>
      <td>27.32</td>
      <td>5.7</td>
      <td>158</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>36.0</td>
      <td>0</td>
      <td>0</td>
      <td>23.45</td>
      <td>5.0</td>
      <td>155</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>76.0</td>
      <td>1</td>
      <td>1</td>
      <td>20.14</td>
      <td>4.8</td>
      <td>155</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="logistic-regression-model">
<h3>Logistic Regression Model<a class="headerlink" href="#logistic-regression-model" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>df_encoded.info()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 96128 entries, 0 to 99999
Data columns (total 15 columns):
 #   Column                       Non-Null Count  Dtype  
---  ------                       --------------  -----  
 0   age                          96128 non-null  float64
 1   hypertension                 96128 non-null  int64  
 2   heart_disease                96128 non-null  int64  
 3   bmi                          96128 non-null  float64
 4   HbA1c_level                  96128 non-null  float64
 5   blood_glucose_level          96128 non-null  int64  
 6   diabetes                     96128 non-null  int64  
 7   gender_Female                96128 non-null  uint8  
 8   gender_Male                  96128 non-null  uint8  
 9   smoking_history_No Info      96128 non-null  uint8  
 10  smoking_history_current      96128 non-null  uint8  
 11  smoking_history_ever         96128 non-null  uint8  
 12  smoking_history_former       96128 non-null  uint8  
 13  smoking_history_never        96128 non-null  uint8  
 14  smoking_history_not current  96128 non-null  uint8  
dtypes: float64(3), int64(4), uint8(8)
memory usage: 6.6 MB
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>We will select the features <code class="docutils literal notranslate"><span class="pre">X</span></code> and the target <code class="docutils literal notranslate"><span class="pre">y</span></code> variable for our machine learning model.</p></li>
<li><p>Splitting the data into training and testing sets. Divide <code class="docutils literal notranslate"><span class="pre">X</span></code> into <code class="docutils literal notranslate"><span class="pre">X_train</span></code> and <code class="docutils literal notranslate"><span class="pre">X_test</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> into <code class="docutils literal notranslate"><span class="pre">y_train</span></code> and <code class="docutils literal notranslate"><span class="pre">y_test</span></code> using <code class="docutils literal notranslate"><span class="pre">train_test_split</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>X = df_encoded.drop(&quot;diabetes&quot;, axis=1)
y = df_encoded[&quot;diabetes&quot;]
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=12)

X_train.shape, y_train.shape, X_test.shape, y_test.shape
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>((76902, 14), (76902,), (19226, 14), (19226,))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>clf = LogisticRegression(max_iter=10000, random_state=12)
clf.fit(X_train, y_train)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>LogisticRegression(max_iter=10000, random_state=12)
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Evaluate the prediction accuracy on the <code class="docutils literal notranslate"><span class="pre">training</span></code> set.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>clf.score(X_train,y_train)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.9588827338690801
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(clf.predict(X_train) == y_train).mean()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.9588827338690801
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Evaluate the prediction accuracy on the <code class="docutils literal notranslate"><span class="pre">test</span></code> set.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>clf.score(X_test,y_test)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.9593779257255799
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(clf.predict(X_test) == y_test).mean()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.9593779257255799
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>y_pred = clf.predict(X_test)
accuracy = accuracy_score(y_test, y_pred)
report = classification_report(y_test, y_pred)


print(accuracy)
print(report)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.9593779257255799
              precision    recall  f1-score   support

           0       0.97      0.99      0.98     17568
           1       0.86      0.63      0.73      1658

    accuracy                           0.96     19226
   macro avg       0.92      0.81      0.85     19226
weighted avg       0.96      0.96      0.96     19226
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>The logistic regression model performed an accuracy of approximately 95.9% on the test data, which is quite good accuracy.</p></li>
<li><p>We don’t have to worry overfitting, because the training score is lower than test score.</p></li>
<li><p>Classification report (class 0 (No Diabetes), class 1 (Diabetes)):</p>
<ul>
<li><p>precision: When the model predicts class 0, it is correct 97% of the time, and when it predicts class 1, it’s correct 87% of the time.</p></li>
<li><p>recall: The model correctly identified 99% of class 0 and 63% of class 1.</p></li>
<li><p>f1-score: The model is correct 98% of class 0 and 73% of class 1.</p></li>
</ul>
</li>
</ul>
<p>Let’s generate the confusion matrix to see the true positive/negative and false positive/negative values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>conf_mat = confusion_matrix(y_test, y_pred)
fig, ax = plt.subplots(figsize=(8, 5))
sns.set_style(&quot;darkgrid&quot;)
sns.heatmap(conf_mat, annot=True, fmt=&quot;d&quot;, ax=ax, cbar=False, cmap=&quot;Blues&quot;)
plt.title(&quot;Confusion Matrix of Logistic Regression&quot;)
plt.xlabel(&quot;Predicted labels&quot;)
plt.ylabel(&quot;True labels&quot;)
plt.show()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/09b9c591b85721b423f2f183e9810d5ae3d4255732a63800ce75003518fe5bc6.png" src="../../_images/09b9c591b85721b423f2f183e9810d5ae3d4255732a63800ce75003518fe5bc6.png" />
</div>
</div>
<p>Based on graph above, we predicted 0 and actual is also 0, which is <strong>true negative</strong>. There are 17406 cases were correctly predicted as class 0.</p>
</section>
</section>
<section id="extra-topics">
<h2>Extra Topics<a class="headerlink" href="#extra-topics" title="Permalink to this headline">#</a></h2>
<section id="decision-tree">
<h3>Decision Tree<a class="headerlink" href="#decision-tree" title="Permalink to this headline">#</a></h3>
<p>Let’s use Decision Tree to predict the dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>X = df_encoded.drop(&quot;diabetes&quot;, axis=1)
y = df_encoded[&quot;diabetes&quot;]
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.5, random_state=20)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>train_1 = {}
test_1 = {}

for n in range(2,100):
    dt = DecisionTreeClassifier(max_leaf_nodes=n) 
    dt.fit(X_train, y_train)
    train_1[n] = mean_absolute_error(y_train, dt.predict(X_train))
    test_1[n] = mean_absolute_error(y_test, dt.predict(X_test))

train_loss = pd.Series(train_1)
test_loss = pd.Series(test_1)
train_loss.name = &quot;train&quot;
test_loss.name = &quot;test&quot;
df_loss = pd.concat((train_loss, test_loss), axis=1)
df_loss.reset_index(inplace=True)
df_loss.rename({&quot;index&quot;: &quot;max_leaf_nodes&quot;}, axis=1, inplace=True)
df_melted = df_loss.melt(id_vars=&quot;max_leaf_nodes&quot;, var_name=&quot;error_type&quot;, value_name=&quot;loss&quot;)

sns.lineplot(x=&quot;max_leaf_nodes&quot;, y=&quot;loss&quot;, hue=&quot;error_type&quot;, data=df_melted)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;max_leaf_nodes&#39;, ylabel=&#39;loss&#39;&gt;
</pre></div>
</div>
<img alt="../../_images/f42511ef7d608a60f78aaefbf2e16962f64adbf9f75d6ddfc8b640f35c522b7c.png" src="../../_images/f42511ef7d608a60f78aaefbf2e16962f64adbf9f75d6ddfc8b640f35c522b7c.png" />
</div>
</div>
<p>This is training and test loss for Decision Tree. We can see the training and test loss are very close to each other, which is a good sign. This graph shows how to prevent models from overfitting.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dt = DecisionTreeClassifier(max_leaf_nodes=38, random_state=12)
dt.fit(X_train, y_train)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DecisionTreeClassifier(max_leaf_nodes=38, random_state=12)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>y_pred_dt = dt.predict(X_test)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>print(&quot;Training Score: &quot;, dt.score(X_train, y_train))
print(&quot;Test Score: &quot;, dt.score(X_test, y_test))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Training Score:  0.9709970039946738
Test Score:  0.9707057256990679
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Based on the Decision Tree Classification, the training and test score are quite close to each other, and both scores are relatively high, indicating good performance.</p></li>
<li><p>The Decision Tree model provides a good accuracy (about 97.07%) for test score.</p></li>
<li><p>We don’t have to worry about overfitting, because the small difference between the training and test score indicates that there is no overfitting.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dt.feature_names_in_
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;age&#39;, &#39;hypertension&#39;, &#39;heart_disease&#39;, &#39;bmi&#39;, &#39;HbA1c_level&#39;,
       &#39;blood_glucose_level&#39;, &#39;gender_Female&#39;, &#39;gender_Male&#39;,
       &#39;smoking_history_No Info&#39;, &#39;smoking_history_current&#39;,
       &#39;smoking_history_ever&#39;, &#39;smoking_history_former&#39;,
       &#39;smoking_history_never&#39;, &#39;smoking_history_not current&#39;],
      dtype=object)
</pre></div>
</div>
</div>
</div>
<p>Let’s see the Decision Tree by plot_tree.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>plt.figure(figsize=(15, 10))
plot_tree(
    dt, 
    feature_names=dt.feature_names_in_, 
    class_names=[&quot;No Diabetes&quot;, &quot;Diabetes&quot;], 
    filled=True, 
    max_depth=3, 
    fontsize=12)
plt.show()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/5c0cac68ee768cc05cfa274924f4d353665cfa3f165f536d7bc3a32700576942.png" src="../../_images/5c0cac68ee768cc05cfa274924f4d353665cfa3f165f536d7bc3a32700576942.png" />
</div>
</div>
<p>According to the graph, HbA1c level, blood glucose level, bmi and age are the main features in the Decision Tree that seems these features are the most important in the dataset. Let’s calculate them to find the most important features.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pd.Series(dt.feature_importances_, index=dt.feature_names_in_)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>age                            0.020694
hypertension                   0.002860
heart_disease                  0.006531
bmi                            0.018486
HbA1c_level                    0.629925
blood_glucose_level            0.320787
gender_Female                  0.000000
gender_Male                    0.000000
smoking_history_No Info        0.000717
smoking_history_current        0.000000
smoking_history_ever           0.000000
smoking_history_former         0.000000
smoking_history_never          0.000000
smoking_history_not current    0.000000
dtype: float64
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>We can see the most important features are: HbA1c_level &gt; blood glucose level &gt; age &gt; bmi</p></li>
<li><p>The factor that has the most impact on decision tree is higher values in the features importance. For instance, the most relevant factors for predicting whether a person has diabetes are HbA1c and blood glucose.</p></li>
</ul>
</section>
<section id="random-forest">
<h3>Random Forest<a class="headerlink" href="#random-forest" title="Permalink to this headline">#</a></h3>
<p>We will use Random Forest to predict. Decision Tree provides a good accuracy, and I expect Random Forest will have similar result.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>X_train, X_test, y_train, y_test = train_test_split(X, y, train_size = 0.3, random_state = 18)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>rf = RandomForestClassifier(n_estimators = 200, max_leaf_nodes = 38, random_state = 18)
rf.fit(X_train, y_train)
RandomForestClassifier(max_leaf_nodes = 38)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RandomForestClassifier(max_leaf_nodes=38)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>y_pred_rf = rf.predict(X_test)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>print(&quot;Training Score: &quot;, rf.score(X_train, y_train))
print(&quot;Test Score: &quot;, rf.score(X_test, y_test))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Training Score:  0.9703516193910812
Test Score:  0.9709317877842175
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Random Forest Classification is roughly same as Decision Tree Classification, their’s training and test score are realetively close to each other, and there is no overfitting and underfitting.</p></li>
<li><p>We can see the accuracy for Random Forest on the test data set is about 97.09%, which is really high that could predict diabetes accurately.</p></li>
</ul>
</section>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">#</a></h2>
<p>In this project, we focus on whether and how various variables are related to diabetes prevalence and to identifying risk factors. We use two different machine learning models to predict. We found that both the Decision Tree Model and the Random Forest Model achieved a high accuracy (97%), and the difference between them was really small, with the Random Forest producing slightly more accurate predictions. In addition, the highest correlation between diabetes and important features is the HbA1c level, which is approximately 62.9%. Although the accuracy is relatively high, we are still unable to determine whether the medical history is related to people having diabetes, because through the confusion matrix, we know that sometimes there are some false negatives, resulting in people thinking they do not have diabetes.</p>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">#</a></h2>
<p>Your code above should include references.  Here is some additional space for references.</p>
<ul class="simple">
<li><p>What is the source of your dataset(s)?
<a class="reference external" href="https://www.kaggle.com/datasets/iammustafatz/diabetes-prediction-dataset">https://www.kaggle.com/datasets/iammustafatz/diabetes-prediction-dataset</a></p></li>
</ul>
<ul class="simple">
<li><p>List any other references that you found helpful.</p>
<ul>
<li><p>Seaborn Visualization (histograms, boxplot, barplot, and etc.): Seaborn.pydata <a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.objects.Plot.html">https://seaborn.pydata.org/generated/seaborn.objects.Plot.html</a></p></li>
<li><p>Matplotlib Visualization: <a class="reference external" href="https://matplotlib.org/stable/tutorials/index">https://matplotlib.org/stable/tutorials/index</a></p></li>
<li><p>Confusion Matrix: <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.confusion_matrix.html">https://scikit-learn.org/stable/modules/generated/sklearn.metrics.confusion_matrix.html</a></p></li>
<li><p>Decision Trees: <a class="reference external" href="https://scikit-learn.org/stable/modules/tree.html">https://scikit-learn.org/stable/modules/tree.html</a></p></li>
<li><p>Random Forests: <a class="reference external" href="https://scikit-learn.org/stable/modules/ensemble.html#random-forests">https://scikit-learn.org/stable/modules/ensemble.html#random-forests</a></p></li>
</ul>
</li>
</ul>
<a style='text-decoration:none;line-height:16px;display:flex;color:#5B5B62;padding:10px;justify-content:end;' href='https://deepnote.com?utm_source=created-in-deepnote-cell&projectId=6f1e7d2a-95d5-4ab1-bfcf-b9b6ac2a43b6' target="_blank">
<img alt='Created in deepnote.com' style='display:inline;max-height:16px;margin:0px;margin-right:7.5px;' src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU0LjEgKDc2NDkwKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5Hcm91cCAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkxhbmRpbmciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMzUuMDAwMDAwLCAtNzkuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjM1LjAwMDAwMCwgNzkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aC0yMCIgZmlsbD0iIzAyNjVCNCIgcG9pbnRzPSIyLjM3NjIzNzYyIDgwIDM4LjA0NzY2NjcgODAgNTcuODIxNzgyMiA3My44MDU3NTkyIDU3LjgyMTc4MjIgMzIuNzU5MjczOSAzOS4xNDAyMjc4IDMxLjY4MzE2ODMiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNS4wMDc3MTgsODAgQzQyLjkwNjIwMDcsNzYuNDU0OTM1OCA0Ny41NjQ5MTY3LDcxLjU0MjI2NzEgNDguOTgzODY2LDY1LjI2MTk5MzkgQzUxLjExMjI4OTksNTUuODQxNTg0MiA0MS42NzcxNzk1LDQ5LjIxMjIyODQgMjUuNjIzOTg0Niw0OS4yMTIyMjg0IEMyNS40ODQ5Mjg5LDQ5LjEyNjg0NDggMjkuODI2MTI5Niw0My4yODM4MjQ4IDM4LjY0NzU4NjksMzEuNjgzMTY4MyBMNzIuODcxMjg3MSwzMi41NTQ0MjUgTDY1LjI4MDk3Myw2Ny42NzYzNDIxIEw1MS4xMTIyODk5LDc3LjM3NjE0NCBMMzUuMDA3NzE4LDgwIFoiIGlkPSJQYXRoLTIyIiBmaWxsPSIjMDAyODY4Ij48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCwzNy43MzA0NDA1IEwyNy4xMTQ1MzcsMC4yNTcxMTE0MzYgQzYyLjM3MTUxMjMsLTEuOTkwNzE3MDEgODAsMTAuNTAwMzkyNyA4MCwzNy43MzA0NDA1IEM4MCw2NC45NjA0ODgyIDY0Ljc3NjUwMzgsNzkuMDUwMzQxNCAzNC4zMjk1MTEzLDgwIEM0Ny4wNTUzNDg5LDc3LjU2NzA4MDggNTMuNDE4MjY3Nyw3MC4zMTM2MTAzIDUzLjQxODI2NzcsNTguMjM5NTg4NSBDNTMuNDE4MjY3Nyw0MC4xMjg1NTU3IDM2LjMwMzk1NDQsMzcuNzMwNDQwNSAyNS4yMjc0MTcsMzcuNzMwNDQwNSBDMTcuODQzMDU4NiwzNy43MzA0NDA1IDkuNDMzOTE5NjYsMzcuNzMwNDQwNSAwLDM3LjczMDQ0MDUgWiIgaWQ9IlBhdGgtMTkiIGZpbGw9IiMzNzkzRUYiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+' > </img>
Created in <span style='font-weight:600;margin-left:4px;'>Deepnote</span></a></section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./students/yufeng"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../titusdejong/TitusdeJong.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Detecting events in Timestamp data</p>
      </div>
    </a>
    <a class="right-next"
       href="../harrisonhong/HarrisonHong.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Mushroom Edibility Classification</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparation-and-explore-the-data">Preparation and Explore the Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualization">Visualization</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-distribution-of-diabetes">The Distribution of Diabetes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-histograms-to-visualize-the-distribution-of-continuous-variables-such-as-age-bmi-and-etc">Create histograms to visualize the distribution of continuous variables such as age, bmi, and etc.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-bar-plots-to-visualize-the-distribution-of-categorical-variables-such-as-gender-smoking-history-and-etc">Create bar plots to visualize the distribution of categorical variables such as gender, smoking history, and etc.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#find-correlation-between-the-various-variables-and-diabetes">Find correlation between the various variables and diabetes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#machine-learning-models">Machine Learning Models</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-processing">Data Processing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logistic-regression-model">Logistic Regression Model</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extra-topics">Extra Topics</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#decision-tree">Decision Tree</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random-forest">Random Forest</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Christopher Davis and Yasmeen Baki
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>